# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pixelfs < Formula
  desc "A cross-device file system, Transfer files based on s3-protocol."
  homepage "https://github.com/pixelfs/pixelfs"
  version "1.1.4"
  license "GPL-3.0"

  on_macos do
    on_intel do
      url "https://github.com/pixelfs/pixelfs/releases/download/v1.1.4/pixelfs_darwin_amd64_1.1.4.tar.gz"
      sha256 "985b93ccd26d22213ebfaa960106aeb19b62d4bf4d688d70ae8eed78c6ad4aff"

      def install
        bin.install "pixelfs"
      end
    end
    on_arm do
      url "https://github.com/pixelfs/pixelfs/releases/download/v1.1.4/pixelfs_darwin_arm64_1.1.4.tar.gz"
      sha256 "26402c3187e9befe65bbee9919991f159371bfa4f68d3749a2a776bd670e3107"

      def install
        bin.install "pixelfs"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pixelfs/pixelfs/releases/download/v1.1.4/pixelfs_linux_amd64_1.1.4.tar.gz"
        sha256 "e6e9ea7c82b318a12bc60fb441f418bfd56276520cba88f891cfb5f90b193e58"

        def install
          bin.install "pixelfs"
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/pixelfs/pixelfs/releases/download/v1.1.4/pixelfs_linux_armv7_1.1.4.tar.gz"
        sha256 "489d32492e12446fbb7e902744bdeb9860a2ef16e4805187522a31e0bae9050d"

        def install
          bin.install "pixelfs"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pixelfs/pixelfs/releases/download/v1.1.4/pixelfs_linux_arm64_1.1.4.tar.gz"
        sha256 "2f3c5986d3d53da6d1eb715ee4a827b33f96df97f0d992c73312734c8823f2f0"

        def install
          bin.install "pixelfs"
        end
      end
    end
  end

  service do
    run [opt_bin/"pixelfs", "daemon"]
    keep_alive true
    environment_variables PATH: std_service_path_env
  end

  test do
    system "#{bin}/pixelfs version"
  end
end
