# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pixelfs < Formula
  desc "A cross-device file system, Transfer files based on s3-protocol."
  homepage "https://github.com/pixelfs/pixelfs"
  version "1.0.0"
  license "GPL-3.0"

  on_macos do
    on_intel do
      url "https://github.com/pixelfs/pixelfs/releases/download/v1.0.0/pixelfs_darwin_amd64_1.0.0.tar.gz"
      sha256 "458e73ce0202db2a46bb0c4e0ae70d9f12e4d4ce370ea2d373adafb423257bc4"

      def install
        bin.install "pixelfs"
      end
    end
    on_arm do
      url "https://github.com/pixelfs/pixelfs/releases/download/v1.0.0/pixelfs_darwin_arm64_1.0.0.tar.gz"
      sha256 "1450f8a798c3cf9df331ec7b8ad1047cf277f4e8628222e60b556a093de80e17"

      def install
        bin.install "pixelfs"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pixelfs/pixelfs/releases/download/v1.0.0/pixelfs_linux_amd64_1.0.0.tar.gz"
        sha256 "bbacc8f1303fa0a532accd017ca33ad37251568f9508479cb179228429cc40e1"

        def install
          bin.install "pixelfs"
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/pixelfs/pixelfs/releases/download/v1.0.0/pixelfs_linux_armv7_1.0.0.tar.gz"
        sha256 "26b72a483c6c69c59a98043a12caf1fdba9efda37cae4d26e30026967ab6c471"

        def install
          bin.install "pixelfs"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pixelfs/pixelfs/releases/download/v1.0.0/pixelfs_linux_arm64_1.0.0.tar.gz"
        sha256 "9d4201888efc3b64117d63c996f6d1a2ce39a6cbd6e67b57f9fb7a8b7d4325a8"

        def install
          bin.install "pixelfs"
        end
      end
    end
  end

  service do
    run [opt_bin/"pixelfs", "daemon"]
    keep_alive true
    environment_variables PATH: std_service_path_env
  end

  test do
    system "#{bin}/pixelfs version"
  end
end
